<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <title>Mi Perfil - Manejo del Estrés Estudiantil</title>
  <meta name="keywords" content="estrés estudiantil, bienestar, salud mental">
  <meta name="description" content="Perfil de usuario - Aplicación para el manejo del estrés estudiantil">
  <meta name="author" content="">
  <link rel="icon" href="images/fevicon.png" type="image/png" />
  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="css/responsive.css" />
  <link rel="stylesheet" href="css/colors.css" />
  <link rel="stylesheet" href="css/bootstrap-select.css" />
  <link rel="stylesheet" href="css/perfect-scrollbar.css" />
  <link rel="stylesheet" href="css/custom.css" />
  <link rel="stylesheet" href="css/custom-colors.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    #sidebar {
      background: #2C3E50 !important;
      background-color: #2C3E50 !important;
    }
    #sidebar .sidebar_blog_2 {
      background: #2C3E50 !important;
    }
    .yellow_color {
      color: var(--secondary-color) !important;
    }
    .notification {
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      padding: 15px 20px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      min-width: 300px;
      max-width: 400px;
      animation: slideIn 0.3s ease-out;
      border-left: 4px solid #00A859;
    }
    .notification.error {
      border-left-color: #E74C3C;
    }
    .notification i {
      margin-right: 12px;
      font-size: 20px;
    }
    .notification.success i {
      color: #00A859;
    }
    .notification.error i {
      color: #E74C3C;
    }
    .notification-content {
      flex-grow: 1;
    }
    .notification-title {
      font-weight: 600;
      margin-bottom: 4px;
      color: #2C3E50;
    }
    .notification-message {
      color: #666;
      font-size: 14px;
    }
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    @keyframes fadeOut {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(100%);
        opacity: 0;
      }
    }
  </style>
</head>
<body class="dashboard dashboard_1">
<!-- Contenido Principal de la Aplicación -->
<div id="app-content">
  <div class="full_container">
    <div class="inner_container">
      <!-- Sidebar (de app.html) -->
      <nav id="sidebar">
        <div class="sidebar_blog_1">
          <div class="sidebar-header">
            <div class="logo_section">
              <a href="index.html"><img class="logo_icon img-responsive" src="https://cms.areandina.edu.co/sites/default/files/styles/large/public/2022-06/header_educontinua_virtual_-_opt.png?itok=9ItxRIJZ" alt="Logo Areandina" /></a>
            </div>
          </div>
          <div class="sidebar_user_info">
            <div class="icon_setting"></div>
            <div class="user_profle_side text-center">
              <div class="user_img">
                <img class="img-responsive rounded-circle" id="sidebar-user-photo" src="images/layout_img/user_img.jpg" alt="Foto de perfil" style="width: 60px; height: 60px; object-fit: cover; margin: 0 auto;" />
              </div>
              <div class="user_info mt-2">
                <h6 id="sidebar-username">Estudiante</h6>
                <p><span class="online_animation"></span> En línea</p>
              </div>
            </div>
          </div>
        </div>
        <div class="sidebar_blog_2">
          <h4>Menú Principal</h4>
          <ul class="list-unstyled components">
            <li>
              <a href="app.html"><i class="fa fa-home yellow_color"></i> <span>Inicio</span></a>
            </li>
            <li class="active">
              <a href="profile-app.html"><i class="fa fa-user blue1_color"></i> <span>Mi Perfil</span></a>
            </li>
            <li>
              <a href="#" onclick="logout()"><i class="fa fa-sign-out yellow_color"></i> <span>Cerrar Sesión</span></a>
            </li>
          </ul>
        </div>
      </nav>
      <!-- end sidebar -->
      <!-- right content -->
      <div id="content">
        <!-- topbar (de app.html) -->
        <div class="topbar">
          <nav class="navbar navbar-expand-lg navbar-light">
            <div class="full">
              <button type="button" id="sidebarCollapse" class="sidebar_toggle"><i class="fa fa-bars"></i></button>
              <div class="logo_section">
                <a href="app.html"><img class="img-responsive" src="https://cms.areandina.edu.co/sites/default/files/styles/large/public/2022-06/header_educontinua_virtual_-_opt.png?itok=9ItxRIJZ" alt="Logo Areandina" /></a>
              </div>
              <div class="right_topbar">
                <div class="icon_info">
                  <ul>
                    <li><a href="#" id="help-icon"><i class="fa fa-question-circle"></i></a></li>
                  </ul>
                </div>
              </div>
            </div>
          </nav>
        </div>
        <!-- end topbar -->
        <!-- dashboard inner -->
        <div class="midde_cont">
          <div class="container-fluid">
            <div class="row column_title">
              <div class="col-md-12">
                <div class="page_title">
                  <h2>Mi Perfil</h2>
                </div>
              </div>
            </div>
            <!-- Contenido del perfil (de profile.html) -->
            <div class="row column1">
              <div class="col-md-2"></div>
              <div class="col-md-8">
                <div class="white_shd full margin_bottom_30">
                  <div class="full graph_head">
                    <div class="heading1 margin_0">
                      <h2>Perfil de usuario</h2>
                    </div>
                  </div>
                  <div class="full price_table padding_infor_info">
                    <div class="row">
                      <div class="col-lg-12">
                        <div class="full dis_flex center_text">
                          <div class="profile_img">
                            <img id="profile-photo" width="180" class="rounded-circle" src="images/layout_img/user_img.jpg" alt="Foto de perfil" />
                          </div>
                          <div class="profile_contant">
                            <div class="contact_inner">
                              <h3 id="profile-name">Nombre de usuario</h3>
                              <ul class="list-unstyled">
                                <li><i class="fa fa-envelope-o"></i> : <span id="profile-email">correo@ejemplo.com</span></li>
                              </ul>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-2"></div>
              </div>
              <!-- end row -->
            </div>
            <!-- footer -->
            <div class="container-fluid">
              <div class="footer">
                <p>Copyright © 2018 Designed by html.design. All rights reserved.<br><br>
                  Distributed By: <a href="https://themewagon.com/">ThemeWagon</a>
                </p>
              </div>
            </div>
          </div>
          <!-- end dashboard inner -->
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Contenedor de Notificaciones -->
<div id="notification-container" style="position: fixed; top: 20px; right: 20px; z-index: 9999;"></div>
<!-- jQuery y scripts -->
<script src="js/jquery.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/animate.js"></script>
<script src="js/bootstrap-select.js"></script>
<script src="js/perfect-scrollbar.min.js"></script>
<script>
  var ps = new PerfectScrollbar('#sidebar');
</script>
<script src="js/custom.js"></script>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
<script>
  // Configuración de Firebase (igual que en app.html)
  const firebaseConfig = {
    apiKey: "AIzaSyD68fPBicLjW3kD82fpWh4FX7KWQM1-IUo",
    authDomain: "app-andina-stress.firebaseapp.com",
    projectId: "app-andina-stress",
    storageBucket: "app-andina-stress.firebasestorage.app",
    appId: "1:875424308312:web:315af68422cc007f95fe2d"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  // Mostrar datos del usuario autenticado
  auth.onAuthStateChanged((user) => {
    if (user) {
      document.getElementById('profile-photo').src = user.photoURL || 'images/layout_img/user_img.jpg';
      document.getElementById('profile-photo').alt = user.displayName || 'Foto de perfil';
      document.getElementById('profile-name').textContent = user.displayName || 'Estudiante';
      document.getElementById('profile-email').textContent = user.email || '';
      // Sidebar datos
      document.getElementById('sidebar-user-photo').src = user.photoURL || 'images/layout_img/user_img.jpg';
      document.getElementById('sidebar-user-photo').alt = user.displayName || 'Foto de perfil';
      document.getElementById('sidebar-username').textContent = user.displayName || 'Estudiante';
    } else {
      document.getElementById('profile-name').textContent = 'No autenticado';
      document.getElementById('profile-email').textContent = '';
      document.getElementById('sidebar-user-photo').src = 'images/layout_img/user_img.jpg';
      document.getElementById('sidebar-user-photo').alt = 'Foto de perfil';
      document.getElementById('sidebar-username').textContent = 'Estudiante';
    }
  });
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  var helpIcon = document.getElementById('help-icon');
  if (helpIcon) {
    helpIcon.addEventListener('click', function(e) {
      e.preventDefault();
      showNotification(
        '¿Tienes preguntas?',
        'Comunícate con el área de orientación y permanencia de la universidad.<br><b>Correo:</b> <a href="mailto:psicologeducativapei@areandina.edu.co">psicologeducativapei@areandina.edu.co</a>',
        'success'
      );
    });
  }
});
</script>

<!-- Agregar función showNotification si no existe -->
<script>
if (typeof showNotification !== 'function') {
  function showNotification(title, message, type = 'success') {
    let container = document.getElementById('notification-container');
    if (!container) {
      container = document.createElement('div');
      container.id = 'notification-container';
      container.style.position = 'fixed';
      container.style.top = '20px';
      container.style.right = '20px';
      container.style.zIndex = '9999';
      document.body.appendChild(container);
    }
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    const icon = type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle';
    notification.innerHTML = `
      <i class="fa ${icon}"></i>
      <div class="notification-content">
        <div class="notification-title">${title}</div>
        <div class="notification-message">${message}</div>
      </div>
    `;
    container.appendChild(notification);
    setTimeout(() => {
      notification.style.animation = 'fadeOut 0.3s ease-out';
      setTimeout(() => {
        container.removeChild(notification);
      }, 300);
    }, 3000);
  }
}
</script>
</body>
</html> 